<!-- <!DOCTYPE html> -->
<html>
  <head>
    <title>Experiment</title>

    <!-- This script gives pps detailed instructions at the start of the experiment and gives practice trials for the TFD and ecnoding tasks.
    There is also a comprehension check to make sure they understand. They get two attempts at this test.
    If they get everything right, they can progress. If they get any answers incorrect on their 2nd attempt, the experiment will end. -->
    

    <script src="jatos.js"></script>
    <script src="jspsych-7.3.0/jspsych.js"></script>
<!-- load plugins here -->
    <script src="jspsych-7.3.0/plugin-survey-multi-choice.js"></script>
    <script src="jspsych-7.3.0/plugin-html-keyboard-response-modified.js"></script>
    <script src="jspsych-7.3.0/plugin-html-button-response.js"></script>
    <script src="jspsych-7.3.0/plugin-instructions.js"></script>
    <script src="jspsych-7.3.0/plugin-preload.js"></script>
    <script src="jspsych-7.3.0/plugin-psychophysics-modified.js"></script>
    <script src="jspsych-7.3.0/plugin-fullscreen.js"></script>
    <link href="jspsych-7.3.0/jspsych.css" rel="stylesheet" type="text/css" />
  </head>

  <style> 

		.information-header {
			position: fixed;
			width: 100%;
			top: 0;
			left: 0;
			background-color: grey;
			color: White;
			text-align: center;
      padding-bottom: 10px;
      margin-bottom: 50px;
		}

		.information-body {
			width: 700px;
			height: 450px;
      display: flex;
      justify-content: center;
      align-items: center;
			padding: 10px 50px; 
			color: black;
		}

	</style>

  <body></body>
  <script>


      // OR jatos
      var jsPsych = initJsPsych({
          		on_finish: function () {
          			jsPsych.data.addProperties({ subID: jatos.studySessionData.PP_ID });
                jsPsych.data.addProperties({ taskName: "final_instruct" });
          			jatos.startNextComponent(jsPsych.data.get().json())
          		}
          	});

      var timeline = [];
      var PPID;


      var overall_instruct = {
        type: jsPsychInstructions,
        pages: [
          // Final page 1
          "<div class='information-header'><h1> Instructions </h1></div>" + 
          "<br><hr>" +
          "<div class='information-body'><p>" +
          "Great! You're nearly ready to begin."+
          "</p></div><hr>",

          //Final page2 - could remove as duplication with opening
          "<div class='information-header'><h1> Instructions </h1></div>" + 
          "<br><hr>" +
          "<div class='information-body'><p>" +
          'As mentioned, our research depends upon you being fully engaged and concentrating throughout.'+
          '<br>'+
          '<br>'+
          '<b>Please concentrate on the task at hand, please do not multi-task or get distracted. Try as hard as you can but please do not cheat.</b>'+
          '<br><br>'+
          "</p></div><hr>",

          // Final page3
          "<div class='information-header'><h1> Instructions </h1></div>" + 
          "<br><hr>" +
          "<div class='information-body'><p>" +
          'Throughout the study, your responses to the tasks will be monitored to ensure you are paying attention. For example, if you do not respond during a task or if you respond randomly/continously then you may be flagged as inattentive, and your involvement may be terminated.'+
          '<br><br>'+
          'You should not be flagged for genuine errors. The checks are simple and you will pass them if you follow the instructions and remain focused on the tasks.'+
          "</p></div><hr>",

          // Final page4
          "<div class='information-header'><h1> Instructions </h1></div>" + 
          "<br><hr>" +
          "<div class='information-body'><p>" +
          'All tasks will run in full screen mode. Please do not exit full screen mode or click off the experiment screen once the session has begun, as this may affect how your responses are recorded.'+
          '<br><br>'+
          "</p></div><hr>",

          // Final page6
          "<div class='information-header'><h1> Instructions </h1></div>" + 
          "<br><hr>" +
          "<div class='information-body'><p>" +
          'Now is a good time for a break if you need one before you begin.'+
          '<br><br>'+
          "Click to begin the tasks!"+
          "</p></div><hr>",
        ],
        show_clickable_nav: true,
        allow_backward: true
      };
      timeline.push(overall_instruct);
      



      //jsPsych.run(timeline);

// OR jatos
      jatos.onLoad(() => {
        jatos.batchSessionVersioning = false;
        console.log('final opening instructions start');
        PPID = jatos.studySessionData.PP_ID;
        jsPsych.run(timeline);
      });

</script>
</html>